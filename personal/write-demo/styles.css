/* styles.css
   Modern, accessible baseline for the author site.
   - Uses CSS variables for theming
   - data-theme attribute on <html> controls theme (script sets initial)
*/

/* Reset-ish (light) */
:root {
    --bg: #ffffff;
    --text: #0b0b0b;
    --muted: #6b6b6b;
    --accent: #7c5cff;
    --accent-contrast: #ffffff;
    --card-bg: #f7f6fb;
    --focus: #ffb84d;
    --max-width: 1100px;
    --container-padding: 1rem;
    --radius: 10px;
    --shadow: 0 6px 18px rgba(12,12,12,0.08);
    --glass: rgba(255,255,255,0.6);
    --link-underline: linear-gradient(90deg, var(--accent) 0%, var(--accent) 100%);
    --transition: 200ms ease;
    --font-sans: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }
  
  /* Dark theme (overrides) */
  :root[data-theme="dark"],
  html[data-theme="dark"] {
    --bg: #0b0c10;
    --text: #eef1f6;
    --muted: #b9c0cf;
    --accent: #7c5cff;
    --accent-contrast: #ffffff;
    --card-bg: rgba(255,255,255,0.03);
    --glass: rgba(255,255,255,0.03);
    --shadow: 0 8px 24px rgba(0,0,0,0.6);
    --focus: #ffb84d;
  }
  
  /* Respect user preference; initial theme set by script which also reads prefers-color-scheme */
  html { font-family: var(--font-sans); background: var(--bg); color: var(--text); line-height: 1.45; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }
  
  * { box-sizing: border-box; }
  img, svg { max-width: 100%; height: auto; }
  
  /* Layout */
  .container { max-width: var(--max-width); margin: 0 auto; padding: 2rem var(--container-padding); }
  
  /* Skip link */
  .skip-link {
    position: absolute; left: -999px; top: auto; width: 1px; height: 1px; overflow: hidden;
  }
  .skip-link:focus {
    left: 1rem; top: 1rem; width: auto; height: auto; padding: 0.5rem 1rem;
    background: var(--accent); color: var(--accent-contrast); border-radius: 6px; z-index: 9999;
  }
  
  /* Header */
  .site-header { border-bottom: 1px solid rgba(0,0,0,0.05); background: linear-gradient(180deg, transparent, var(--glass)); position: sticky; top: 0; backdrop-filter: blur(6px); z-index: 50; }
  .header-inner { display:flex; align-items:center; justify-content:space-between; gap:1rem; padding: 0.75rem 0; }
  .brand a { display:flex; align-items:center; gap:0.5rem; color:var(--text); text-decoration:none; font-weight:600; }
  .site-title { font-size:1rem; }
  
  /* Nav */
  .primary-nav .menu { display:flex; gap: 0.5rem; list-style:none; margin:0; padding:0; }
  .primary-nav .menu a { display:inline-block; padding:0.4rem 0.6rem; border-radius:6px; text-decoration:none; color:var(--text); }
  .primary-nav .menu a:focus, .primary-nav .menu a:hover { outline: none; box-shadow: 0 0 0 3px var(--focus); }
  
  /* Menu toggle for small screens */
  .menu-toggle { display:none; background:transparent; border:0; font-size:1.25rem; cursor:pointer; color:var(--text); }
  .header-controls button { background:transparent; border:0; padding:0.4rem; cursor:pointer; font-size:1.1rem; }
  
  /* Hero */
  .hero { padding:2rem 0; text-align:center; border-bottom:1px dashed rgba(0,0,0,0.04); }
  .hero .lead { color:var(--muted); margin-top:0.5rem; }
  .hero .cta { display:inline-block; margin-top:1rem; padding:0.6rem 1rem; background:var(--accent); color:var(--accent-contrast); border-radius:8px; text-decoration:none; }
  
  /* Grids */
  .story-grid { display:grid; grid-template-columns: repeat(auto-fit,minmax(220px,1fr)); gap:1rem; margin-top:1rem; }
  .story-card, .review, .post { background:var(--card-bg); padding:1rem; border-radius:var(--radius); box-shadow:var(--shadow); }
  .story-card h3, .review h3 { margin-top:0; }
  .meta { font-size:0.9rem; color:var(--muted); margin-bottom:0.35rem; }
  .excerpt { margin-bottom:0.5rem; color:var(--text); }
  
  /* Reviews grid */
  .reviews-grid { display:grid; grid-template-columns: repeat(auto-fit,minmax(240px,1fr)); gap:1rem; }
  
  /* Blog posts list */
  .posts-list { list-style:none; padding:0; margin:0; display:grid; gap:0.75rem; }
  
  /* Timeline */
  .timeline { list-style:none; padding-left:0; margin:0; display:flex; flex-direction:column; gap:0.75rem; }
  .timeline time { font-weight:600; color:var(--accent); }
  
  /* About section */
  .about-grid { display:grid; grid-template-columns: 200px 1fr; gap:1rem; align-items:start; }
  
  /* Contact */
  .contact-grid { display:grid; grid-template-columns: 1fr 280px; gap:1rem; align-items:start; }
  form { display:flex; flex-direction:column; gap:0.5rem; }
  label { font-weight:600; font-size:0.95rem; }
  input[type="text"], input[type="email"], textarea {
    padding:0.6rem; border-radius:8px; border:1px solid rgba(0,0,0,0.08); background:transparent; color:var(--text);
  }
  input:focus, textarea:focus { outline: none; box-shadow: 0 0 0 4px var(--focus); }
  .form-actions { display:flex; gap:0.5rem; margin-top:0.5rem; }
  button[type="submit"], button[type="reset"] { padding:0.6rem 1rem; border-radius:8px; border:0; cursor:pointer; }
  button[type="submit"] { background:var(--accent); color:var(--accent-contrast); }
  button[type="reset"] { background:transparent; border:1px solid rgba(0,0,0,0.06); color:var(--text); }
  
  /* Footer */
  .site-footer { border-top:1px solid rgba(0,0,0,0.04); padding:1.2rem 0; margin-top:2rem; color:var(--muted); }
  
  /* Utilities */
  .visually-hidden { position:absolute !important; height:1px; width:1px; overflow:hidden; clip:rect(1px,1px,1px,1px); white-space:nowrap; border:0; padding:0; margin:-1px; }
  
  /* Responsive adjustments */
  @media (max-width: 820px) {
    .container { padding-left: 1rem; padding-right:1rem; }
    .menu-toggle { display:inline-block; }
    .primary-nav .menu { display:block; }
    .primary-nav .menu[hidden] { display:none; }
    .about-grid { grid-template-columns: 1fr; }
    .contact-grid { grid-template-columns: 1fr; }
  }
  
  /* Fine print: ensure links are readable and meet contrast */
  a { color:var(--accent); text-decoration: underline; text-decoration-color: transparent; background-image: var(--link-underline); background-position: 0 100%; background-repeat: no-repeat; background-size: 0% 2px; transition: background-size var(--transition); }
  a:hover, a:focus { background-size: 100% 2px; text-decoration: none; }
  
  /* Small utility classes */
  .read-more { font-weight:600; color:var(--accent); }
  .form-status { margin-top:0.5rem; padding:0.6rem; border-radius:8px; background:rgba(0,0,0,0.03); }
  
  /* Make focus visible globally for keyboard users */
  :focus { outline: none; box-shadow: 0 0 0 4px var(--focus); border-radius:6px; }
  